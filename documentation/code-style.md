# Code style

## Нейминг

Самой главной задачей наименования чего-либо является донесение своей мысли читателю вашего кода. Сколько времени уйдет у вас на написание этого кода, на сколько больше нажатий клавиш вам придется совершить - не имеет значения.

```ts
// Очень плохо. Этот человек будет гореть в аду.
// Он сэкономил свое время, но потратил очень много сил других разработчиков
function dr(o: { f: string; t: string; i: string }) {
  const c = document.getElementById(o.i);
  const ctx = c.getContext("2d");
  ctx.font = o.f;
  ctx.fillText(o.t, 10, 50);
}

// Чуть лучше. Но все равно везде встречаются непонятные сокращения
type Options = {
  fnt: string;
  txt: string;
  id: string;
};
function draw(opt: Options) {
  const c = document.getElementById(opts.id);
  const ctx = c.getContext("2d");
  ctx.font = opts.fnt;
  ctx.fillText(opts.txt, 10, 50);
}

// Хорошо
type DrawTextOptions = {
  font: string;
  text: string;
  canvasId: string;
};
function drawText(options: DrawTextOptions) {
  const canvasElement = document.getElementById(options.canvasId);
  const context = canvasElement.getContext("2d");
  context.font = options.font;
  context.fillText(opts.text, 10, 50);
}
```

Этот пример нарочно утрирован, но он дает возможность понять как важен нейминг для чтения.

### **Переменные**

Переменные **должны** именоваться с использованием `camelCase`.

**Запрещено** использование венгерской нотации (sString, nNumber). Информация о типе уже есть у typescript.

### **Префиксы**

_Допускается_ использование префиксов (например, булевые флаги могут начинаться с is/has/should), но не является обязательным.
Самое главное - название переменной должно быть понятным и достаточным.

Например `shouldRedirectToLoginPage` понятнее для читателя кода чем `redirectToLoginPage`

А вот `isDisabled` - это уже спорный момент, и не будет плохим написанием ни

```tsx
if (button.disabled)
```

ни

```tsx
if (button.isDisabled)
```

### **Константы**

Константы **должны** именоваться с использованием `CAPS_SNAKE_CASE`. Под константами подразумеваются именно литеральные
значения, вида `const PI = 3.14`.

### **Классы**

Классы **должны** именоваться с использованием `PascalCase`.

### **Функции**

Функции **должны** именоваться с использованием `camelCase`.

Исключением являются функциональные компоненты в React. они **должны** именоваться с использованием `PascalCase`.

### **Enum**

Enum **должны** именоваться с использованием `PascalCase`.

## Наименование стандартных сущностей

**Не рекомендуется** добавлять к названию ваших компонентов суффиксы -`Component`. Например `Transaction`, а не `TransactionComponent`.
Если название компонента пересекается с названием сущности, которую этот компонент отображает вы можете воспользоваться
алиасами или, что предпочтительнее, назвать компонент более конкретно. Строка списка транзакций, отображающая сущность
`Transaction` может назваться `ListingTransactionRow`. Это так же позволит вам избежать конфликтов имен с другими
вариантами отображения той же транзакции которые могут появиться у вас в проекте.

## Комментирование кода

В случае, если код делает что-то странное в соответствии с бизнес-требованиями - **желательно** подкрепить комментарий
ссылкой на confluence, в котором тема будет раскрыта более подробно.

Вы **не должны** оставлять закомментированный код. Никто никогда его не раскомментирует.
Если вы боитесь потерять какой-то код — используйте ветки, stash и прочие инструменты git.
_Допускается_ оставлять закомментированный код, если вы заводите задачу на доработку на доске и оговариваете срок, когда закомментированный код будет раскомментирован или удален.

Если вы пишите `todo` комментарий - **рекомендуется** подкрепить его ссылкой на задачу в jira, в которой будет описано, что именно нужно сделать.

_Помните, что комментарии устаревают. И иногда они могут быть признаком плохого именования/логики/кода. Если для чтения вашего кода нужно читать и комментарии - возможно код можно написать как то иначе?_

## Работа с типами

Вы **должны** использовать strict режим и максимально полагаться на выведение типов.

- Описывать типы props connected компонентов **не рекомендуется**.
- Описывать тип возвращаемых значений функций **не рекомендуется**

_Допускается_ использовать `any`:

- если вам не подошел `[unknown](https://www.typescriptlang.org/docs/handbook/release-notes/typescript-3-0.html#new-unknown-top-type)`
  тип. **Рекомендуется** оставить комментарий почему именно он вам не подошел.
- если ваш проект находится в состоянии миграции на typescript и сейчас нет возможности описать все типы
